"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[736],{1687:function(e,n,t){t.d(n,{IQ:function(){return f},Jh:function(){return d},Qk:function(){return l},hG:function(){return p},tY:function(){return v},wr:function(){return s},z1:function(){return o}});var r=t(5861),a=t(4687),c=t.n(a),i=t(340),u="7857d3be668b30082be7813451c66108";i.Z.defaults.baseURL="https://api.themoviedb.org/";var s=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("3/trending/movie/day?language=en-US&api_key=".concat(u));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("3/search/movie?query=".concat(n,"&include_adult=false&language=en-US&page=1&api_key=").concat(u));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,i.Z.get("3/movie/".concat(t,"?language=en-US&append_to_response=images,credits&api_key=").concat(u));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,i.Z.get("3/movie/".concat(t,"/credits?language=en-US&append_to_response=images,credits&api_key=").concat(u));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,i.Z.get("3/movie/".concat(t,"/reviews?language=en-US&append_to_response=images,credits&api_key=").concat(u));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e){return e?"https://image.tmdb.org/t/p/w300".concat(e):"https://placehold.it/300x450?text=Image_not_found"},v=function(e){var n;return{imageUrl:l(e.poster_path),title:e.title,release_date:e.release_date.slice(0,4),overview:""!==e.overview?e.overview:"There is no overview",genres:e.genres.length>0?null===(n=e.genres)||void 0===n?void 0:n.map((function(e){return e.name})).join(", "):"No genres found",vote_average:e.vote_average}}},9736:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r,a,c,i,u=t(5861),s=t(9439),o=t(4687),p=t.n(o),f=t(8683),d=t(2791),l=t(1687),v=t(7689),h=t(168),g=t(7686),m=g.Z.b(r||(r=(0,h.Z)(["\ncolor: #0076CE;"]))),x=g.Z.ul(a||(a=(0,h.Z)(["\ndisplay: flex;\nflex-wrap: wrap;\ngap: 20px;\n"]))),w=g.Z.div(c||(c=(0,h.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\nflex-wrap: wrap;\nmatgin: 0;\nmax-width: 200px"]))),_=g.Z.img(i||(i=(0,h.Z)(["\nbox-shadow: 0 4px 8px rgba(0, 0, 0.2, 0.1);"]))),Z=t(184);function k(){var e=(0,v.UO)().movieId,n=(0,d.useState)(null),t=(0,s.Z)(n,2),r=t[0],a=t[1],c=(0,d.useState)(!1),i=(0,s.Z)(c,2),o=i[0],h=i[1],g=(0,d.useState)(!1),k=(0,s.Z)(g,2),b=k[0],y=k[1];return(0,d.useEffect)((function(){var n=function(){var n=(0,u.Z)(p().mark((function n(){var t,r,c;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,h(!0),n.next=4,(0,l.IQ)({id:e});case 4:t=n.sent,r=t.cast,c=r.map((function(e){return{id:e.id,img:(0,l.Qk)(e.profile_path),name:e.name,char:e.character}})),a(c),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),y(!0);case 13:return n.prev=13,h(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}();e&&n()}),[e]),(0,Z.jsxs)("div",{children:[o&&(0,Z.jsx)(f.Loader,{}),b&&(0,Z.jsx)("div",{children:"Error catching cast"}),r&&r.length>0?(0,Z.jsx)(x,{children:r.map((function(e){return(0,Z.jsxs)(w,{children:[(0,Z.jsx)(_,{src:e.img,alt:e.name,width:"200"}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("p",{children:[(0,Z.jsx)(m,{children:"Name:"})," ",e.name]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)(m,{children:"Character:"})," ",e.char]})]})]},e.id)}))}):(0,Z.jsx)("p",{children:"No cast info found"})]})}}}]);
//# sourceMappingURL=736.1159f6c5.chunk.js.map